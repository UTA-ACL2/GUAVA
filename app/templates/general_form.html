<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>GUAVA File Pool</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="{{ URL_PREFIX + url_for('static', filename='css/general.css') }}" rel="stylesheet" type="text/css">
    <link href="{{ URL_PREFIX + url_for('static', filename='css/pool.css') }}" rel="stylesheet" type="text/css">
</head>
<body>
<div class="container">
    <div id="poolContainer" class="file-manager" style="display: none;">
        <h3>File Pool for <span id="userDisplay"></span></h3>
        <form action="{{ URL_PREFIX + url_for('upload.upload_files') }}" method="post" enctype="multipart/form-data" id="runForm">
            <div style="display: flex; align-items: center">
                <label for="audioFile">Upload video or audio file:</label>
                <input type="file" id="audioFile" name="audioFile" class="fileInput" multiple accept=".mp4,video/mp4,.wav,audio/wav,.mp3,audio/mpeg">
                <div id="errorMessage" style="color: #FF0000;"></div>
                <button type="button" id="uploadButton" style="padding: 5px 10px;
    margin: 0 5px;
    border: none;
    background: #007bff;
    color: white;
    cursor: pointer;
    border-radius: 5px;">Upload</button>
                <button type="button" id="exportAllButton" style="padding: 5px 10px;
    margin: 0 5px;
    border: none;
    background: #45ADA8;
    color: white;
    cursor: pointer;
    border-radius: 5px;">Export All Annotations</button>
            </div>
        </form>
        <div class="file-header">
            <div class="col name sortable">Name<span class="sort-icons"><i class="sort-arrow up"></i><i class="sort-arrow down"></i></span></div>
            <div class="col type sortable">Type<span class="sort-icons"><i class="sort-arrow up"></i><i class="sort-arrow down"></i></span></div>
            <div class="col status sortable">Status<span class="sort-icons"><i class="sort-arrow up"></i><i class="sort-arrow down"></i></span></div>
            <div class="col duration sortable">Duration<span class="sort-icons"><i class="sort-arrow up"></i><i class="sort-arrow down"></i></span></div>
            <div class="col size sortable">Size<span class="sort-icons"><i class="sort-arrow up"></i><i class="sort-arrow down"></i></span></div>
        </div>
        <ul id="fileList"></ul>
        <div class="pagination">
            <button id="prevPage" disabled>Previous</button>
            <span id="pageInfo"></span>
            <button id="nextPage">Next</button>
        </div>
    </div>
</div>
<ul id="filePoolItemContextMenu" class="context-menu">
    <li id="deleteFileOption">Delete</li>
</ul>
{% if username %}
    <script>
        window.URL_PREFIX = "{{ URL_PREFIX }}";
        window.username = "{{ username }}";
        window.message = "{{ message }}";
    </script>
    <script src="{{ URL_PREFIX + url_for('static', filename='js/general_form.js') }}"></script>
{% else %}
    <script>
        window.location.href = "{{ URL_PREFIX + url_for('login.login') }}";
    </script>
{% endif %}
</body>
</html>